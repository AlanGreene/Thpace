!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t=t||self).Thpace=n()}(this,(function(){"use strict";function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var a=0;a<n.length;a++){var e=n[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function a(t,a,e){return a&&n(t.prototype,a),e&&n(t,e),t}function e(t,n,a){return n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function r(){return(r=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t}).apply(this,arguments)}const i=Math.pow(2,-52),s=new Uint32Array(512);class o{static from(t,n=g,a=p){const e=t.length,r=new Float64Array(2*e);for(let i=0;i<e;i++){const e=t[i];r[2*i]=n(e),r[2*i+1]=a(e)}return new o(r)}constructor(t){const n=t.length>>1;if(n>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const a=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*a),this._halfedges=new Int32Array(3*a),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:a,_hullTri:e,_hullHash:r}=this,s=t.length>>1;let o=1/0,l=1/0,c=-1/0,m=-1/0;for(let n=0;n<s;n++){const a=t[2*n],e=t[2*n+1];a<o&&(o=a),e<l&&(l=e),a>c&&(c=a),e>m&&(m=e),this._ids[n]=n}const g=(o+c)/2,p=(l+m)/2;let b,d,y,x=1/0;for(let n=0;n<s;n++){const a=h(g,p,t[2*n],t[2*n+1]);a<x&&(b=n,x=a)}const M=t[2*b],H=t[2*b+1];x=1/0;for(let n=0;n<s;n++){if(n===b)continue;const a=h(M,H,t[2*n],t[2*n+1]);a<x&&a>0&&(d=n,x=a)}let w=t[2*d],T=t[2*d+1],k=1/0;for(let n=0;n<s;n++){if(n===b||n===d)continue;const a=v(M,H,w,T,t[2*n],t[2*n+1]);a<k&&(y=n,k=a)}let L=t[2*y],_=t[2*y+1];if(k===1/0){for(let n=0;n<s;n++)this._dists[n]=t[2*n]-t[0]||t[2*n+1]-t[1];f(this._ids,this._dists,0,s-1);const n=new Uint32Array(s);let a=0;for(let t=0,e=-1/0;t<s;t++){const r=this._ids[t];this._dists[r]>e&&(n[a++]=r,e=this._dists[r])}return this.hull=n.subarray(0,a),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(u(M,H,w,T,L,_)){const t=d,n=w,a=T;d=y,w=L,T=_,y=t,L=n,_=a}const P=function(t,n,a,e,r,i){const s=a-t,o=e-n,h=r-t,l=i-n,u=s*s+o*o,c=h*h+l*l,v=.5/(s*l-o*h);return{x:t+(l*u-o*c)*v,y:n+(s*c-h*u)*v}}(M,H,w,T,L,_);this._cx=P.x,this._cy=P.y;for(let n=0;n<s;n++)this._dists[n]=h(t[2*n],t[2*n+1],P.x,P.y);f(this._ids,this._dists,0,s-1),this._hullStart=b;let z=3;a[b]=n[y]=d,a[d]=n[b]=y,a[y]=n[d]=b,e[b]=0,e[d]=1,e[y]=2,r.fill(-1),r[this._hashKey(M,H)]=b,r[this._hashKey(w,T)]=d,r[this._hashKey(L,_)]=y,this.trianglesLen=0,this._addTriangle(b,d,y,-1,-1,-1);for(let s,o,h=0;h<this._ids.length;h++){const l=this._ids[h],c=t[2*l],v=t[2*l+1];if(h>0&&Math.abs(c-s)<=i&&Math.abs(v-o)<=i)continue;if(s=c,o=v,l===b||l===d||l===y)continue;let f=0;for(let t=0,n=this._hashKey(c,v);t<this._hashSize&&(f=r[(n+t)%this._hashSize],-1===f||f===a[f]);t++);f=n[f];let m,g=f;for(;m=a[g],!u(c,v,t[2*g],t[2*g+1],t[2*m],t[2*m+1]);)if(g=m,g===f){g=-1;break}if(-1===g)continue;let p=this._addTriangle(g,l,a[g],-1,-1,e[g]);e[l]=this._legalize(p+2),e[g]=p,z++;let x=a[g];for(;m=a[x],u(c,v,t[2*x],t[2*x+1],t[2*m],t[2*m+1]);)p=this._addTriangle(x,l,m,e[l],-1,e[x]),e[l]=this._legalize(p+2),a[x]=x,z--,x=m;if(g===f)for(;m=n[g],u(c,v,t[2*m],t[2*m+1],t[2*g],t[2*g+1]);)p=this._addTriangle(m,l,g,-1,e[g],e[m]),this._legalize(p+2),e[m]=p,a[g]=g,z--,g=m;this._hullStart=n[l]=g,a[g]=n[x]=l,a[l]=x,r[this._hashKey(c,v)]=l,r[this._hashKey(t[2*g],t[2*g+1])]=g}this.hull=new Uint32Array(z);for(let t=0,n=this._hullStart;t<z;t++)this.hull[t]=n,n=a[n];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(function(t,n){const a=t/(Math.abs(t)+Math.abs(n));return(n>0?3-a:1+a)/4}(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:a,coords:e}=this;let r=0,i=0;for(;;){const o=a[t],h=t-t%3;if(i=h+(t+2)%3,-1===o){if(0===r)break;t=s[--r];continue}const l=o-o%3,u=h+(t+1)%3,v=l+(o+2)%3,f=n[i],m=n[t],g=n[u],p=n[v];if(c(e[2*f],e[2*f+1],e[2*m],e[2*m+1],e[2*g],e[2*g+1],e[2*p],e[2*p+1])){n[t]=p,n[o]=f;const e=a[v];if(-1===e){let n=this._hullStart;do{if(this._hullTri[n]===v){this._hullTri[n]=t;break}n=this._hullPrev[n]}while(n!==this._hullStart)}this._link(t,e),this._link(o,a[i]),this._link(i,v);const h=l+(o+1)%3;r<s.length&&(s[r++]=h)}else{if(0===r)break;t=s[--r]}}return i}_link(t,n){this._halfedges[t]=n,-1!==n&&(this._halfedges[n]=t)}_addTriangle(t,n,a,e,r,i){const s=this.trianglesLen;return this._triangles[s]=t,this._triangles[s+1]=n,this._triangles[s+2]=a,this._link(s,e),this._link(s+1,r),this._link(s+2,i),this.trianglesLen+=3,s}}function h(t,n,a,e){const r=t-a,i=n-e;return r*r+i*i}function l(t,n,a,e,r,i){const s=(e-n)*(r-t),o=(a-t)*(i-n);return Math.abs(s-o)>=33306690738754716e-32*Math.abs(s+o)?s-o:0}function u(t,n,a,e,r,i){return(l(r,i,t,n,a,e)||l(t,n,a,e,r,i)||l(a,e,r,i,t,n))<0}function c(t,n,a,e,r,i,s,o){const h=t-s,l=n-o,u=a-s,c=e-o,v=r-s,f=i-o,m=u*u+c*c,g=v*v+f*f;return h*(c*g-m*f)-l*(u*g-m*v)+(h*h+l*l)*(u*f-c*v)<0}function v(t,n,a,e,r,i){const s=a-t,o=e-n,h=r-t,l=i-n,u=s*s+o*o,c=h*h+l*l,v=.5/(s*l-o*h),f=(l*u-o*c)*v,m=(s*c-h*u)*v;return f*f+m*m}function f(t,n,a,e){if(e-a<=20)for(let r=a+1;r<=e;r++){const e=t[r],i=n[e];let s=r-1;for(;s>=a&&n[t[s]]>i;)t[s+1]=t[s--];t[s+1]=e}else{let r=a+1,i=e;m(t,a+e>>1,r),n[t[a]]>n[t[e]]&&m(t,a,e),n[t[r]]>n[t[e]]&&m(t,r,e),n[t[a]]>n[t[r]]&&m(t,a,r);const s=t[r],o=n[s];for(;;){do{r++}while(n[t[r]]<o);do{i--}while(n[t[i]]>o);if(i<r)break;m(t,r,i)}t[a+1]=t[i],t[i]=s,e-r+1>=i-a?(f(t,n,r,e),f(t,n,a,i-1)):(f(t,n,a,i-1),f(t,n,r,e))}}function m(t,n,a){const e=t[n];t[n]=t[a],t[a]=e}function g(t){return t[0]}function p(t){return t[1]}var b="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function d(t,n){return t(n={exports:{}},n.exports),n.exports}var y={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},x=Object.prototype.toString,M=function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},H=function(t){var n,a,e=[],r=1;if("string"==typeof t)if(y[t])e=y[t].slice(),a="rgb";else if("transparent"===t)r=0,a="rgb",e=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(t)){var i=(h=t.slice(1)).length;r=1,i<=4?(e=[parseInt(h[0]+h[0],16),parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16)],4===i&&(r=parseInt(h[3]+h[3],16)/255)):(e=[parseInt(h[0]+h[1],16),parseInt(h[2]+h[3],16),parseInt(h[4]+h[5],16)],8===i&&(r=parseInt(h[6]+h[7],16)/255)),e[0]||(e[0]=0),e[1]||(e[1]=0),e[2]||(e[2]=0),a="rgb"}else if(n=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(t)){var s=n[1],o="rgb"===s,h=s.replace(/a$/,"");a=h;i="cmyk"===h?4:"gray"===h?1:3;e=n[2].trim().split(/\s*,\s*/).map((function(t,n){if(/%$/.test(t))return n===i?parseFloat(t)/100:"rgb"===h?255*parseFloat(t)/100:parseFloat(t);if("h"===h[n]){if(/deg$/.test(t))return parseFloat(t);if(void 0!==w[t])return w[t]}return parseFloat(t)})),s===h&&e.push(1),r=o?1:void 0===e[i]?1:e[i],e=e.slice(0,i)}else t.length>10&&/[0-9](?:\s|\/)/.test(t)&&(e=t.match(/([0-9]+)/g).map((function(t){return parseFloat(t)})),a=t.match(/([a-z])/gi).join("").toLowerCase());else if(isNaN(t))if(u=t,"[object Object]"!==x.call(u)||null!==(c=Object.getPrototypeOf(u))&&c!==Object.getPrototypeOf({}))(Array.isArray(t)||b.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(t))&&(e=[t[0],t[1],t[2]],a="rgb",r=4===t.length?t[3]:1);else{var l=M(t.r,t.red,t.R,null);null!==l?(a="rgb",e=[l,M(t.g,t.green,t.G),M(t.b,t.blue,t.B)]):(a="hsl",e=[M(t.h,t.hue,t.H),M(t.s,t.saturation,t.S),M(t.l,t.lightness,t.L,t.b,t.brightness)]),r=M(t.a,t.alpha,t.opacity,1),null!=t.opacity&&(r/=100)}else a="rgb",e=[t>>>16,(65280&t)>>>8,255&t];var u,c;return{space:a,values:e,alpha:r}},w={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};var T={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]},k={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var n,a,e,r,i,s=t[0]/360,o=t[1]/100,h=t[2]/100;if(0===o)return[i=255*h,i,i];n=2*h-(a=h<.5?h*(1+o):h+o-h*o),r=[0,0,0];for(var l=0;l<3;l++)(e=s+1/3*-(l-1))<0?e++:e>1&&e--,i=6*e<1?n+6*(a-n)*e:2*e<1?a:3*e<2?n+(a-n)*(2/3-e)*6:n,r[l]=255*i;return r}};T.hsl=function(t){var n,a,e=t[0]/255,r=t[1]/255,i=t[2]/255,s=Math.min(e,r,i),o=Math.max(e,r,i),h=o-s;return o===s?n=0:e===o?n=(r-i)/h:r===o?n=2+(i-e)/h:i===o&&(n=4+(e-r)/h),(n=Math.min(60*n,360))<0&&(n+=360),a=(s+o)/2,[n,100*(o===s?0:a<=.5?h/(o+s):h/(2-o-s)),100*a]};var L={name:"hsv",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","value"],alias:["HSV","HSB"],rgb:function(t){var n=t[0]/60,a=t[1]/100,e=t[2]/100,r=Math.floor(n)%6,i=n-Math.floor(n),s=255*e*(1-a),o=255*e*(1-a*i),h=255*e*(1-a*(1-i));switch(e*=255,r){case 0:return[e,h,s];case 1:return[o,e,s];case 2:return[s,e,h];case 3:return[s,o,e];case 4:return[h,s,e];case 5:return[e,s,o]}},hsl:function(t){var n,a,e=t[0],r=t[1]/100,i=t[2]/100;return n=r*i,[e,100*(n=(n/=(a=(2-r)*i)<=1?a:2-a)||0),100*(a/=2)]}};T.hsv=function(t){var n,a,e=t[0],r=t[1],i=t[2],s=Math.min(e,r,i),o=Math.max(e,r,i),h=o-s;return a=0===o?0:h/o*100,o===s?n=0:e===o?n=(r-i)/h:r===o?n=2+(i-e)/h:i===o&&(n=4+(e-r)/h),(n=Math.min(60*n,360))<0&&(n+=360),[n,a,o/255*1e3/10]},k.hsv=function(t){var n=t[0],a=t[1]/100,e=t[2]/100;return[n,100*(2*(a*=(e*=2)<=1?e:2-e)/(e+a)||0),100*((e+a)/2)]};var _=function(t,n,a){if(void 0===a&&(a=n,n=0),n>a){var e=a;a=n,n=e}var r=a-n;return(t=(t+n)%r-n)<n&&(t+=r),t>a&&(t-=r),t},P=function(t,n,a){return a>n?Math.max(Math.min(t,a),n):Math.max(Math.min(t,n),a)},z=d((function(t){(t.exports={name:"hsi",min:[0,0,0],max:[360,100,255],channel:["hue","saturation","intensity"],alias:["HSI"]}).rgb=function(t){var n,a,e,r=_(t[0],0,360)*Math.PI/180,i=P(t[1],0,100)/100,s=P(t[2],0,255)/255,o=Math.PI/3;return r<2*o?(e=s*(1-i),n=s*(1+i*Math.cos(r)/Math.cos(o-r)),a=s*(1+i*(1-Math.cos(r)/Math.cos(o-r)))):r<4*o?(r-=2*o,n=s*(1-i),a=s*(1+i*Math.cos(r)/Math.cos(o-r)),e=s*(1+i*(1-Math.cos(r)/Math.cos(o-r)))):(r-=4*o,a=s*(1-i),e=s*(1+i*Math.cos(r)/Math.cos(o-r)),n=s*(1+i*(1-Math.cos(r)/Math.cos(o-r)))),[255*n,255*a,255*e]},T.hsi=function(t){var n=t[0]+t[1]+t[2],a=t[0]/n,e=t[1]/n,r=t[2]/n,i=Math.acos(.5*(a-e+(a-r))/Math.sqrt((a-e)*(a-e)+(a-r)*(e-r)));r>e&&(i=2*Math.PI-i);var s=1-3*Math.min(a,e,r),o=n/3;return[180*i/Math.PI,100*s,o]}})),C=(z.name,z.min,z.max,z.channel,z.alias,d((function(t){var n=t.exports={name:"hwb",min:[0,0,0],max:[360,100,100],channel:["hue","whiteness","blackness"],alias:["HWB"],rgb:function(t){var n,a,e,r,i,s,o,h=t[0]/360,l=t[1]/100,u=t[2]/100,c=l+u;switch(c>1&&(l/=c,u/=c),e=6*h-(n=Math.floor(6*h)),0!=(1&n)&&(e=1-e),r=l+e*((a=1-u)-l),n){default:case 6:case 0:i=a,s=r,o=l;break;case 1:i=r,s=a,o=l;break;case 2:i=l,s=a,o=r;break;case 3:i=l,s=r,o=a;break;case 4:i=r,s=l,o=a;break;case 5:i=a,s=l,o=r}return[255*i,255*s,255*o]},hsv:function(t){var n,a,e=t[0],r=t[1],i=t[2];return r+i>=100?(n=0,a=100*r/(r+i)):(n=100-r/(1-i/100),a=100-i),[e,n,a]},hsl:function(t){return L.hsl(n.hsv(t))}};T.hwb=function(t){var n=t[0],a=t[1],e=t[2];return[T.hsl(t)[0],100*(1/255*Math.min(n,Math.min(a,e))),100*(e=1-1/255*Math.max(n,Math.max(a,e)))]},L.hwb=function(t){var n=t[0],a=t[1],e=t[2];return[n,0===e?0:e*(1-a/100),100-e]},k.hwb=function(t){return L.hwb(k.hsv(t))}}))),Y=(C.name,C.min,C.max,C.channel,C.alias,C.rgb,C.hsv,C.hsl,{name:"cmyk",min:[0,0,0,0],max:[100,100,100,100],channel:["cyan","magenta","yellow","black"],alias:["CMYK"],rgb:function(t){var n=t[0]/100,a=t[1]/100,e=t[2]/100,r=t[3]/100;return[255*(1-Math.min(1,n*(1-r)+r)),255*(1-Math.min(1,a*(1-r)+r)),255*(1-Math.min(1,e*(1-r)+r))]}});T.cmyk=function(t){var n,a=t[0]/255,e=t[1]/255,r=t[2]/255;return[100*((1-a-(n=Math.min(1-a,1-e,1-r)))/(1-n)||0),100*((1-e-n)/(1-n)||0),100*((1-r-n)/(1-n)||0),100*n]};var I=d((function(t){(t.exports={name:"cmy",min:[0,0,0],max:[100,100,100],channel:["cyan","magenta","yellow"],alias:["CMY"]}).rgb=function(t){return[255*(1-t[0]/100),255*(1-t[1]/100),255*(1-t[2]/100)]},T.cmy=function(t){return[100*(1-t[0]/255)||0,100*(1-t[1]/255)||0,100*(1-t[2]/255)||0]}})),A=(I.name,I.min,I.max,I.channel,I.alias,{name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"],whitepoint:{2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}}});A.max=A.whitepoint[2].D65,A.rgb=function(t,n){n=n||A.whitepoint[2].E;var a,e,r,i=t[0]/n[0],s=t[1]/n[1],o=t[2]/n[2];return e=-.96924363628087*i+1.87596750150772*s+.041555057407175*o,r=.055630079696993*i+-.20397695888897*s+1.056971514242878*o,a=(a=3.240969941904521*i+-1.537383177570093*s+-.498610760293*o)>.0031308?1.055*Math.pow(a,1/2.4)-.055:a*=12.92,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:e*=12.92,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r*=12.92,[255*(a=Math.min(Math.max(0,a),1)),255*(e=Math.min(Math.max(0,e),1)),255*(r=Math.min(Math.max(0,r),1))]},T.xyz=function(t,n){var a=t[0]/255,e=t[1]/255,r=t[2]/255,i=.21263900587151*(a=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92)+.71516867876775*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.072192315360733*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92),s=.019330818715591*a+.11919477979462*e+.95053215224966*r;return[(.41239079926595*a+.35758433938387*e+.18048078840183*r)*(n=n||A.whitepoint[2].E)[0],i*n[1],s*n[2]]};var q=A,S={name:"xyy",min:[0,0,0],max:[1,1,100],channel:["x","y","Y"],alias:["xyY","Yxy","yxy"],xyz:function(t){var n,a,e;return a=t[0],e=t[1],n=t[2],0===e?[0,0,0]:[a*n/e,n,(1-a-e)*n/e]}};q.xyy=function(t){var n,a,e;return 0===(n=(a=t[0])+(e=t[1])+t[2])?[0,0,e]:[a/n,e/n,e]};var R=S,U=d((function(t){(t.exports={name:"yiq",min:[0,-.5957,-.5226],max:[1,.5957,.5226],channel:["Y","I","Q"],alias:["YIQ"]}).rgb=function(t){var n,a,e,r=t[0],i=t[1],s=t[2];return n=1*r+.956*i+.621*s,a=1*r+-.272*i+-.647*s,e=1*r+-1.108*i+1.705*s,[255*(n=Math.min(Math.max(0,n),1)),255*(a=Math.min(Math.max(0,a),1)),255*(e=Math.min(Math.max(0,e),1))]},T.yiq=function(t){var n=t[0]/255,a=t[1]/255,e=t[2]/255,r=0,i=0;return n===a&&a===e||(r=.596*n+-.275*a+-.321*e,i=.212*n+-.528*a+.311*e),[.299*n+.587*a+.114*e,r,i]}})),F=(U.name,U.min,U.max,U.channel,U.alias,d((function(t){(t.exports={name:"yuv",min:[0,-.5,-.5],max:[1,.5,.5],channel:["Y","U","V"],alias:["YUV","EBU"]}).rgb=function(t){var n,a,e,r=t[0],i=t[1],s=t[2];return n=1*r+0*i+1.13983*s,a=1*r+-.39465*i+-.5806*s,e=1*r+2.02311*i+0*s,[255*(n=Math.min(Math.max(0,n),1)),255*(a=Math.min(Math.max(0,a),1)),255*(e=Math.min(Math.max(0,e),1))]},T.yuv=function(t){var n=t[0]/255,a=t[1]/255,e=t[2]/255;return[.299*n+.587*a+.114*e,-.14713*n+-.28886*a+.436*e,.615*n+-.51499*a+-.10001*e]}}))),O=(F.name,F.min,F.max,F.channel,F.alias,d((function(t){var n=t.exports={name:"ydbdr",min:[0,-1.333,-1.333],max:[1,1.333,1.333],channel:["Y","Db","Dr"],alias:["YDbDr"]};n.rgb=function(t){var n=t[0],a=t[1],e=t[2];return[255*(n+92303716148e-15*a-.525912630661865*e),255*(n-.129132898890509*a+.267899328207599*e),255*(n+.664679059978955*a-79202543533e-15*e)]},T.ydbdr=function(t){var n=t[0]/255,a=t[1]/255,e=t[2]/255;return[.299*n+.587*a+.114*e,-.45*n-.883*a+1.333*e,-1.333*n+1.116*a+.217*e]},F.ydbdr=function(t){return[t[0],3.059*t[1],-2.169*t[2]]},n.yuv=function(t){return[t[0],t[1]/3.059,-t[2]/2.169]}}))),E=(O.name,O.min,O.max,O.channel,O.alias,d((function(t){(t.exports={name:"ycgco",min:[0,-.5,-.5],max:[1,.5,.5],channel:["Y","Cg","Co"],alias:["YCgCo"]}).rgb=function(t){var n=t[0],a=t[1],e=t[2],r=n-a;return[255*(r+e),255*(n+a),255*(r-e)]},T.ycgco=function(t){var n=t[0]/255,a=t[1]/255,e=t[2]/255;return[.25*n+.5*a+.25*e,-.25*n+.5*a-.25*e,.5*n-.5*e]}}))),B=(E.name,E.min,E.max,E.channel,E.alias,d((function(t){(t.exports={name:"ypbpr",min:[0,-.5,-.5],max:[1,.5,.5],channel:["Y","Pb","Pr"],alias:["YPbPr","Y/PB/PR","YPRPB","PRPBY","PBPRY","Y/Pb/Pr","YPrPb","PrPbY","PbPrY","Y/R-Y/B-Y","Y(R-Y)(B-Y)","R-Y","B-Y"]}).rgb=function(t,n,a){var e=t[0],r=t[1];n=n||.0722;var i=e+2*t[2]*(1-(a=a||.2126)),s=e+2*r*(1-n);return[255*i,255*((e-a*i-n*s)/(1-a-n)),255*s]},T.ypbpr=function(t,n,a){var e=t[0]/255,r=t[1]/255,i=t[2]/255,s=(a=a||.2126)*e+(1-a-(n=n||.0722))*r+n*i;return[s,.5*(i-s)/(1-n),.5*(e-s)/(1-a)]}}))),D=(B.name,B.min,B.max,B.channel,B.alias,d((function(t){var n=t.exports={name:"ycbcr",min:[16,16,16],max:[235,240,240],channel:["Y","Cb","Cr"],alias:["YCbCr","YCC"]};B.ycbcr=function(t){return[16+219*t[0],128+224*t[1],128+224*t[2]]},n.ypbpr=function(t){return[(t[0]-16)/219,(t[1]-128)/224,(t[2]-128)/224]},n.rgb=function(t,a,e){return B.rgb(n.ypbpr(t),a,e)},T.ycbcr=function(t,n,a){return B.ycbcr(T.ypbpr(t,n,a))}}))),V=(D.name,D.min,D.max,D.channel,D.alias,d((function(t){var n=t.exports={name:"xvycc",min:[0,0,0],max:[255,255,255],channel:["Y","Cb","Cr"],alias:["xvYCC"]};B.xvycc=function(t){return[16+219*t[0],128+224*t[1],128+224*t[2]]},n.ypbpr=function(t){return[(t[0]-16)/219,(t[1]-128)/224,(t[2]-128)/224]},n.rgb=function(t,a,e){return B.rgb(n.ypbpr(t),a,e)},T.xvycc=function(t,n,a){return B.xvycc(T.ypbpr(t,n,a))}}))),j=(V.name,V.min,V.max,V.channel,V.alias,d((function(t){(t.exports={name:"yccbccrc",min:[0,-.5,-.5],max:[1,.5,.5],channel:["Yc","Cbc","Crc"],alias:["YcCbcCrc"]}).rgb=function(t){return B.rgb(t,.0593,.2627)},T.yccbccrc=function(t){return T.ypbpr(t,.0593,.2627)}}))),G=(j.name,j.min,j.max,j.channel,j.alias,d((function(t){(t.exports={name:"ucs",min:[0,0,0],max:[100,100,100],channel:["U","V","W"],alias:["UCS","cie1960"]}).xyz=function(t){var n=t[0],a=t[1];return[1.5*n,a,1.5*n-3*a+2*t[2]]},q.ucs=function(t){var n=t[0],a=t[1];return[2*n/3,a,.5*(3*a-n+t[2])]}}))),X=(G.name,G.min,G.max,G.channel,G.alias,d((function(t){var n=t.exports={name:"uvw",min:[-134,-140,0],max:[224,122,100],channel:["U","V","W"],alias:["UVW","cieuvw","cie1964"]};n.xyz=function(t,n,a){var e,r,i,s,o,h,l,u,c,v,f;return s=t[0],o=t[1],0===(i=t[2])?[0,0,0]:(n=n||"D65",a=a||2,v=4*(l=q.whitepoint[a][n][0])/(l+15*(u=q.whitepoint[a][n][1])+3*(c=q.whitepoint[a][n][2])),f=6*u/(l+15*u+3*c),[1.5*(h=Math.pow((i+17)/25,3))*(e=s/(13*i)+v||0)/(r=o/(13*i)+f||0),h,h*(2/r-.5*e/r-5)])},q.uvw=function(t,n,a){var e,r,i,s,o,h=t[0],l=t[1],u=t[2];n=n||"D65",a=a||2,s=4*(e=q.whitepoint[a][n][0])/(e+15*(r=q.whitepoint[a][n][1])+3*(i=q.whitepoint[a][n][2])),o=6*r/(e+15*r+3*i);var c=4*h/(h+15*l+3*u)||0,v=6*l/(h+15*l+3*u)||0,f=25*Math.pow(l,1/3)-17;return[13*f*(c-s),13*f*(v-o),f]},n.ucs=function(t){},G.uvw=function(t){}}))),N=(X.name,X.min,X.max,X.channel,X.alias,d((function(t){(t.exports={name:"jpeg",min:[0,0,0],max:[255,255,255],channel:["Y","Cb","Cr"],alias:["JPEG"]}).rgb=function(t){var n=t[0],a=t[1],e=t[2];return[n+1.402*(e-128),n-.34414*(a-128)-.71414*(e-128),n+1.772*(a-128)]},T.jpeg=function(t){var n=t[0],a=t[1],e=t[2];return[.299*n+.587*a+.114*e,128-.168736*n-.331264*a+.5*e,128+.5*n-.418688*a-.081312*e]}}))),K=(N.name,N.min,N.max,N.channel,N.alias,{name:"lab",min:[0,-100,-100],max:[100,100,100],channel:["lightness","a","b"],alias:["LAB","cielab"],xyz:function(t){var n,a,e,r,i=t[0],s=t[1],o=t[2];return i<=8?r=(a=100*i/903.3)/100*7.787+16/116:(a=100*Math.pow((i+16)/116,3),r=Math.pow(a/100,1/3)),[n=n/95.047<=.008856?n=95.047*(s/500+r-16/116)/7.787:95.047*Math.pow(s/500+r,3),a,e=e/108.883<=.008859?e=108.883*(r-o/200-16/116)/7.787:108.883*Math.pow(r-o/200,3)]}});q.lab=function(t){var n=t[0],a=t[1],e=t[2];return a/=100,e/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(a=a>.008856?Math.pow(a,1/3):7.787*a+16/116)-16,500*(n-a),200*(a-(e=e>.008856?Math.pow(e,1/3):7.787*e+16/116))]};q.labh=function(t){var n=t[0],a=t[1],e=t[2];return[10*Math.sqrt(a),0===a?0:(1.02*n-a)/Math.sqrt(a)*17.5,0===a?0:(a-.847*e)/Math.sqrt(a)*7]};var W=d((function(t){var n=t.exports={name:"lms",min:[0,0,0],max:[100,100,100],channel:["long","medium","short"],matrix:{HPE:[.38971,.68898,-.07868,-.22981,1.1834,.04641,0,0,1],VONKRIES:[.4002,.7076,-.0808,-.2263,1.1653,.0457,0,0,.9182],BFD:[.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0686,1.0296],CAT97:[.8562,.3372,-.1934,-.836,1.8327,.0033,.0357,-.00469,1.0112],CAT00:[.7982,.3389,-.1371,-.5918,1.5512,.0406,8e-4,.0239,.9753],CAT02:[.7328,.4296,-.1624,-.7036,1.6975,.0061,.003,.0136,.9834]}};n.xyz=function(t,n){var a=t[0],e=t[1],r=t[2];return n||(n=[1.096123820835514,-.278869000218287,.182745179382773,.454369041975359,.473533154307412,.072097803717229,-.009627608738429,-.005698031216113,1.015325639954543]),[a*n[0]+e*n[1]+r*n[2],a*n[3]+e*n[4]+r*n[5],a*n[6]+e*n[7]+r*n[8]]},q.lms=function(t,a){var e=t[0],r=t[1],i=t[2];return a||(a=n.matrix.CAT02),[e*a[0]+r*a[1]+i*a[2],e*a[3]+r*a[4]+i*a[5],e*a[6]+r*a[7]+i*a[8]]}})),$=(W.name,W.min,W.max,W.channel,W.matrix,d((function(t){var n=t.exports={name:"lchab",min:[0,0,0],max:[100,100,360],channel:["lightness","chroma","hue"],alias:["LCHab","cielch","LCH","HLC","LSH"],xyz:function(t){return K.xyz(n.lab(t))},lab:function(t){var n,a=t[0],e=t[1];return n=t[2]/360*2*Math.PI,[a,e*Math.cos(n),e*Math.sin(n)]}};K.lchab=function(t){var n,a=t[0],e=t[1],r=t[2];return(n=360*Math.atan2(r,e)/2/Math.PI)<0&&(n+=360),[a,Math.sqrt(e*e+r*r),n]},q.lchab=function(t){return K.lchab(q.lab(t))}}))),Q=($.name,$.min,$.max,$.channel,$.alias,$.xyz,$.lab,{name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(t,n,a){var e,r,i,s,o,h,l,u,c;if(i=t[0],s=t[1],o=t[2],0===i)return[0,0,0];return n=n||"D65",a=a||2,e=s/(13*i)+4*(l=q.whitepoint[a][n][0])/(l+15*(u=q.whitepoint[a][n][1])+3*(c=q.whitepoint[a][n][2]))||0,r=o/(13*i)+9*u/(l+15*u+3*c)||0,[9*(h=i>8?u*Math.pow((i+16)/116,3):u*i*.0011070564598794539)*e/(4*r)||0,h,h*(12-3*e-20*r)/(4*r)||0]}});q.luv=function(t,n,a){var e,r,i,s,o,h,l,u,c,v,f;n=n||"D65",a=a||2,v=4*(l=q.whitepoint[a][n][0])/(l+15*(u=q.whitepoint[a][n][1])+3*(c=q.whitepoint[a][n][2])),f=9*u/(l+15*u+3*c),e=4*(s=t[0])/(s+15*(o=t[1])+3*(h=t[2]))||0,r=9*o/(s+15*o+3*h)||0;var m=o/u;return[i=m<=.008856451679035631?903.2962962962961*m:116*Math.pow(m,1/3)-16,13*i*(e-v),13*i*(r-f)]};var Z=d((function(t){var n=t.exports={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(t){var n,a=t[0],e=t[1];return n=t[2]/360*2*Math.PI,[a,e*Math.cos(n),e*Math.sin(n)]},xyz:function(t){return Q.xyz(n.luv(t))}};Q.lchuv=function(t){var n=t[0],a=t[1],e=t[2],r=Math.sqrt(a*a+e*e),i=360*Math.atan2(e,a)/2/Math.PI;return i<0&&(i+=360),[n,r,i]},q.lchuv=function(t){return Q.lchuv(q.luv(t))}})),J=(Z.name,Z.channel,Z.alias,Z.min,Z.max,Z.luv,Z.xyz,J||{});J.Geometry=function(){},J.Geometry.intersectLineLine=function(t,n){var a=(t.intercept-n.intercept)/(n.slope-t.slope);return{x:a,y:t.slope*a+t.intercept}},J.Geometry.distanceFromOrigin=function(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))},J.Geometry.distanceLineFromOrigin=function(t){return Math.abs(t.intercept)/Math.sqrt(Math.pow(t.slope,2)+1)},J.Geometry.perpendicularThroughPoint=function(t,n){var a=-1/t.slope;return{slope:a,intercept:n.y-a*n.x}},J.Geometry.angleFromOrigin=function(t){return Math.atan2(t.y,t.x)},J.Geometry.normalizeAngle=function(t){var n=2*Math.PI;return(t%n+n)%n},J.Geometry.lengthOfRayUntilIntersect=function(t,n){return n.intercept/(Math.sin(t)-n.slope*Math.cos(t))},J.Hsluv=function(){},J.Hsluv.getBounds=function(t){for(var n=[],a=Math.pow(t+16,3)/1560896,e=a>J.Hsluv.epsilon?a:t/J.Hsluv.kappa,r=0;r<3;)for(var i=r++,s=J.Hsluv.m[i][0],o=J.Hsluv.m[i][1],h=J.Hsluv.m[i][2],l=0;l<2;){var u=l++,c=(284517*s-94839*h)*e,v=(838422*h+769860*o+731718*s)*t*e-769860*u*t,f=(632260*h-126452*o)*e+126452*u;n.push({slope:c/f,intercept:v/f})}return n},J.Hsluv.maxSafeChromaForL=function(t){for(var n=J.Hsluv.getBounds(t),a=1/0,e=0;e<n.length;){var r=n[e];++e;var i=J.Geometry.distanceLineFromOrigin(r);a=Math.min(a,i)}return a},J.Hsluv.maxChromaForLH=function(t,n){for(var a=n/360*Math.PI*2,e=J.Hsluv.getBounds(t),r=1/0,i=0;i<e.length;){var s=e[i];++i;var o=J.Geometry.lengthOfRayUntilIntersect(a,s);o>=0&&(r=Math.min(r,o))}return r},J.Hsluv.dotProduct=function(t,n){for(var a=0,e=0,r=t.length;e<r;){var i=e++;a+=t[i]*n[i]}return a},J.Hsluv.fromLinear=function(t){return t<=.0031308?12.92*t:1.055*Math.pow(t,.4166666666666667)-.055},J.Hsluv.toLinear=function(t){return t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92},J.Hsluv.xyzToRgb=function(t){return[J.Hsluv.fromLinear(J.Hsluv.dotProduct(J.Hsluv.m[0],t)),J.Hsluv.fromLinear(J.Hsluv.dotProduct(J.Hsluv.m[1],t)),J.Hsluv.fromLinear(J.Hsluv.dotProduct(J.Hsluv.m[2],t))]},J.Hsluv.rgbToXyz=function(t){var n=[J.Hsluv.toLinear(t[0]),J.Hsluv.toLinear(t[1]),J.Hsluv.toLinear(t[2])];return[J.Hsluv.dotProduct(J.Hsluv.minv[0],n),J.Hsluv.dotProduct(J.Hsluv.minv[1],n),J.Hsluv.dotProduct(J.Hsluv.minv[2],n)]},J.Hsluv.yToL=function(t){return t<=J.Hsluv.epsilon?t/J.Hsluv.refY*J.Hsluv.kappa:116*Math.pow(t/J.Hsluv.refY,.3333333333333333)-16},J.Hsluv.lToY=function(t){return t<=8?J.Hsluv.refY*t/J.Hsluv.kappa:J.Hsluv.refY*Math.pow((t+16)/116,3)},J.Hsluv.xyzToLuv=function(t){var n=t[0],a=t[1],e=n+15*a+3*t[2],r=4*n,i=9*a;0!=e?(r/=e,i/=e):(r=NaN,i=NaN);var s=J.Hsluv.yToL(a);return 0==s?[0,0,0]:[s,13*s*(r-J.Hsluv.refU),13*s*(i-J.Hsluv.refV)]},J.Hsluv.luvToXyz=function(t){var n=t[0],a=t[1],e=t[2];if(0==n)return[0,0,0];var r=a/(13*n)+J.Hsluv.refU,i=e/(13*n)+J.Hsluv.refV,s=J.Hsluv.lToY(n),o=0-9*s*r/((r-4)*i-r*i);return[o,s,(9*s-15*i*s-i*o)/(3*i)]},J.Hsluv.luvToLch=function(t){var n,a=t[0],e=t[1],r=t[2],i=Math.sqrt(e*e+r*r);i<1e-8?n=0:(n=180*Math.atan2(r,e)/Math.PI)<0&&(n=360+n);return[a,i,n]},J.Hsluv.lchToLuv=function(t){var n=t[0],a=t[1],e=t[2]/360*2*Math.PI;return[n,Math.cos(e)*a,Math.sin(e)*a]},J.Hsluv.hsluvToLch=function(t){var n=t[0],a=t[1],e=t[2];return e>99.9999999?[100,0,n]:e<1e-8?[0,0,n]:[e,J.Hsluv.maxChromaForLH(e,n)/100*a,n]},J.Hsluv.lchToHsluv=function(t){var n=t[0],a=t[1],e=t[2];return n>99.9999999?[e,0,100]:n<1e-8?[e,0,0]:[e,a/J.Hsluv.maxChromaForLH(n,e)*100,n]},J.Hsluv.hpluvToLch=function(t){var n=t[0],a=t[1],e=t[2];return e>99.9999999?[100,0,n]:e<1e-8?[0,0,n]:[e,J.Hsluv.maxSafeChromaForL(e)/100*a,n]},J.Hsluv.lchToHpluv=function(t){var n=t[0],a=t[1],e=t[2];return n>99.9999999?[e,0,100]:n<1e-8?[e,0,0]:[e,a/J.Hsluv.maxSafeChromaForL(n)*100,n]},J.Hsluv.rgbToHex=function(t){for(var n="#",a=0;a<3;){var e=t[a++],r=Math.round(255*e),i=r%16,s=(r-i)/16|0;n+=J.Hsluv.hexChars.charAt(s)+J.Hsluv.hexChars.charAt(i)}return n},J.Hsluv.hexToRgb=function(t){t=t.toLowerCase();for(var n=[],a=0;a<3;){var e=a++,r=16*J.Hsluv.hexChars.indexOf(t.charAt(2*e+1))+J.Hsluv.hexChars.indexOf(t.charAt(2*e+2));n.push(r/255)}return n},J.Hsluv.lchToRgb=function(t){return J.Hsluv.xyzToRgb(J.Hsluv.luvToXyz(J.Hsluv.lchToLuv(t)))},J.Hsluv.rgbToLch=function(t){return J.Hsluv.luvToLch(J.Hsluv.xyzToLuv(J.Hsluv.rgbToXyz(t)))},J.Hsluv.hsluvToRgb=function(t){return J.Hsluv.lchToRgb(J.Hsluv.hsluvToLch(t))},J.Hsluv.rgbToHsluv=function(t){return J.Hsluv.lchToHsluv(J.Hsluv.rgbToLch(t))},J.Hsluv.hpluvToRgb=function(t){return J.Hsluv.lchToRgb(J.Hsluv.hpluvToLch(t))},J.Hsluv.rgbToHpluv=function(t){return J.Hsluv.lchToHpluv(J.Hsluv.rgbToLch(t))},J.Hsluv.hsluvToHex=function(t){return J.Hsluv.rgbToHex(J.Hsluv.hsluvToRgb(t))},J.Hsluv.hpluvToHex=function(t){return J.Hsluv.rgbToHex(J.Hsluv.hpluvToRgb(t))},J.Hsluv.hexToHsluv=function(t){return J.Hsluv.rgbToHsluv(J.Hsluv.hexToRgb(t))},J.Hsluv.hexToHpluv=function(t){return J.Hsluv.rgbToHpluv(J.Hsluv.hexToRgb(t))},J.Hsluv.m=[[3.240969941904521,-1.537383177570093,-.498610760293],[-.96924363628087,1.87596750150772,.041555057407175],[.055630079696993,-.20397695888897,1.056971514242878]],J.Hsluv.minv=[[.41239079926595,.35758433938387,.18048078840183],[.21263900587151,.71516867876775,.072192315360733],[.019330818715591,.11919477979462,.95053215224966]],J.Hsluv.refY=1,J.Hsluv.refU=.19783000664283,J.Hsluv.refV=.46831999493879,J.Hsluv.kappa=903.2962962,J.Hsluv.epsilon=.0088564516,J.Hsluv.hexChars="0123456789abcdef";var tt={hsluvToRgb:J.Hsluv.hsluvToRgb,rgbToHsluv:J.Hsluv.rgbToHsluv,hpluvToRgb:J.Hsluv.hpluvToRgb,rgbToHpluv:J.Hsluv.rgbToHpluv,hsluvToHex:J.Hsluv.hsluvToHex,hexToHsluv:J.Hsluv.hexToHsluv,hpluvToHex:J.Hsluv.hpluvToHex,hexToHpluv:J.Hsluv.hexToHpluv,lchToHpluv:J.Hsluv.lchToHpluv,hpluvToLch:J.Hsluv.hpluvToLch,lchToHsluv:J.Hsluv.lchToHsluv,hsluvToLch:J.Hsluv.hsluvToLch,lchToLuv:J.Hsluv.lchToLuv,luvToLch:J.Hsluv.luvToLch,xyzToLuv:J.Hsluv.xyzToLuv,luvToXyz:J.Hsluv.luvToXyz,xyzToRgb:J.Hsluv.xyzToRgb,rgbToXyz:J.Hsluv.rgbToXyz,lchToRgb:J.Hsluv.lchToRgb,rgbToLch:J.Hsluv.rgbToLch},nt={name:"hsluv",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSLuv","HuSL"],lchuv:tt.hsluvToLch,xyz:function(t){return Z.xyz(tt.hsluvToLch(t))},hpluv:function(t){return tt.lchToHpluv(tt.hsluvToLch(t))}};Z.hsluv=tt.lchToHsluv,q.hsluv=function(t){return tt.lchToHsluv(q.lchuv(t))};var at={name:"hpluv",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HPLuv","HuSLp"],lchuv:tt.hpluvToLch,xyz:function(t){return Z.xyz(tt.hpluvToLch(t))},hsluv:function(t){return tt.lchToHsluv(tt.hpluvToLch(t))}};Z.hpluv=tt.lchToHpluv,q.hpluv=function(t){return tt.lchToHpluv(q.lchuv(t))};var et=d((function(t){var n=t.exports={name:"cubehelix",channel:["fraction"],min:[0],max:[1]},a=n.defaults={start:0,rotation:.5,hue:1,gamma:1};n.rgb=function(t,n){n=n||{},t.length&&(t=t[0]);var e=void 0!==n.start?n.start:a.start,r=void 0!==n.rotation?n.rotation:a.rotation,i=void 0!==n.gamma?n.gamma:a.gamma,s=void 0!==n.hue?n.hue:a.hue,o=2*Math.PI*(e/3+1+r*t),h=s*(t=Math.pow(t,i))*(1-t)/2,l=t+h*(-.14861*Math.cos(o)+1.78277*Math.sin(o)),u=t+h*(-.29227*Math.cos(o)-.90649*Math.sin(o)),c=t+h*(1.97294*Math.cos(o));return[255*(l=P(l,0,1)),255*(u=P(u,0,1)),255*(c=P(c,0,1))]},T.cubehelix=function(t){}})),rt=(et.name,et.channel,et.min,et.max,{name:"coloroid",alias:["ATV"],channel:["A","T","V"],min:[10,0,0],max:[76,100,100],table:[[10,59,1.724349,.44987,.53641],[11,55.3,1.740844,.46248,.52444],[12,51.7,1.754985,.47451,.51298],[13,48.2,1.767087,.48601,.50325],[14,44.8,1.775953,.49578,.49052],[15,41.5,1.785073,.5079,.43035],[16,38.2,1.791104,.51874,.46934],[20,34.9,1.794831,.5298,.45783],[21,31.5,1.798664,.54137,.44559],[22,28,1.794819,.55367,.43253],[23,24.4,1.78961,.5668,.41811],[24,20.6,1.809483,.58128,.40176],[25,16.6,1.760983,.59766,.383],[26,12.3,1.723443,.61653,.36061],[30,7.7,1.652891,.63896,.33358],[31,2.8,1.502607,.66619,.2993],[32,-2.5,1.0725,.70061,.26753],[33,-8.4,1.136637,.63925,.22631],[34,-19.8,1.232286,.53962,.19721],[35,-31.6,1.31012,.5034,.17495],[40,-43.2,1.37661,.46041,.15603],[41,-54.6,1.438692,.42386,.13846],[42,-65.8,1.501582,.38991,.12083],[43,-76.8,1.570447,.35586,.10328],[44,-86.8,1.645583,.32195,.08496],[45,-95.8,1.732083,.28657,.05155],[46,-108.4,1.915753,.22202,.01771],[50,-117.2,2.14631,.15664,.05227],[51,-124.7,1.649939,.12736,.0902],[52,-131.8,1.273415,.10813,.12506],[53,-138.5,1.080809,.09414,.15741],[54,-145.1,.957076,.03249,.18958],[55,-152,.868976,.07206,.24109],[56,-163.4,.771731,.05787,.30378],[60,-177.2,.697108,.04353,.35696],[61,171.6,.655803,.03291,.41971],[62,152.4,.623958,.0224,.49954],[63,148.4,.596037,.01196,.60321],[64,136.8,.607413,.00425,.73542],[65,125.4,.659923,.01099,.83391],[66,114.2,.859517,.0805,.77474],[70,103.2,1.195683,.20259,.7046],[71,93.2,1.407534,.28807,.6523],[72,84.2,1.532829,.34422,.6193],[73,77.3,1.603792,.37838,.59533],[74,71.6,1.649448,.4029,.57716],[75,66.9,1.68108,.42141,.56222],[76,62.8,1.704979,.43647,.54895]]}),it=rt.table,st=[].concat(it.slice(-13),it.slice(0,-13)),ot="D65",ht=q.whitepoint[2][ot][0],lt=q.whitepoint[2][ot][1],ut=q.whitepoint[2][ot][2],ct=ht/(ht+lt+ut),vt=lt/(ht+lt+ut),ft=(ht+lt+ut)/100;R.coloroid=function(t){for(var n,a=t[0],e=t[1],r=t[2],i=10*Math.sqrt(r),s=180*Math.atan2(e-ct,a-vt)/Math.PI,o=st.length-1,h=0;h<st.length&&!(s>st[h][1]);h++)o=h;var l=(n=Math.abs(st[h+1][1]-s)>Math.abs(st[o][1]-s)?st[h+1]:st[o])[0],u=n[4],c=n[2],v=n[3];return[l,100*r*(vt*ft-a*ft)/(100*(a*c-v*c)+u*c*100*(vt*ft-a*ft)),i]},rt.xyy=function(t){for(var n,a=t[0],e=t[1],r=t[2],i=0;i<it.length;i++)if(a<=it[i][0]){n=it[i];break}var s=n[4],o=n[2],h=n[3],l=r*r/100,u=s*o*100;return[(100*l*vt*ft+100*h*o*e-u*e*vt*ft)/(100*e*o-u*e*ft+100*l*ft),(100*l+100*e*s*o-u*e)/(l*ft*100+100*e*o-e*u*ft),l]},q.coloroid=function(t){return R.coloroid(q.xyy(t))},rt.xyz=function(t){return R.xyz(rt.xyy(t))};var mt=rt,gt={name:"hcg",min:[0,0,0],max:[360,100,100],channel:["hue","chroma","gray"],alias:["HCG","HSG"],rgb:function(t){var n=t[0]/360,a=t[1]/100,e=t[2]/100;if(0===a)return[255*e,255*e,255*e];var r=6*_(n,1),i=_(r,1),s=[0,0,0],o=1-i;switch(Math.floor(r)){case 0:s[0]=1,s[1]=i,s[2]=0;break;case 1:s[0]=o,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=i;break;case 3:s[0]=0,s[1]=o,s[2]=1;break;case 4:s[0]=i,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=o}var h=(1-a)*e;return[255*(a*s[0]+h),255*(a*s[1]+h),255*(a*s[2]+h)]},hsl:function(t){var n=t[1]/100,a=t[2]/100*(1-n)+.5*n,e=0;return a<1&&a>0&&(e=a<.5?n/(2*a):n/(2*(1-a))),[t[0],100*e,100*a]},hsv:function(t){var n,a=t[1]/100,e=a+t[2]/100*(1-a);if(e>0){var r=a/e;n=[t[0],100*r,100*e]}else n=[t[0],0,100*e];return n},hwb:function(t){var n=t[1]/100,a=n+t[2]/100*(1-n);return[t[0],100*(a-n),100*(1-a)]}};T.hcg=function(t){var n,a,e=t[0]/255,r=t[1]/255,i=t[2]/255,s=Math.max(Math.max(e,r),i),o=Math.min(Math.min(e,r),i),h=s-o;return n=h<1?o/(1-h):0,h>0?(a=s===e?_((r-i)/h,6):s===r?2+(i-e)/h:4+(e-r)/h,a=_(a/=6,1)):a=0,[360*a,100*h,100*n]},k.hcg=function(t){var n,a=t[1]/100,e=t[2]/100,r=0;if((r=e<.5?2*a*e:2*a*(1-e))<1){var i=(e-.5*r)/(1-r);n=[t[0],100*r,100*i]}else n=[t[0],100*r,0];return n},L.hcg=function(t){var n,a=t[1]/100,e=t[2]/100,r=a*e;if(r<1){var i=(e-r)/(1-r);n=[t[0],100*r,100*i]}else n=[t[0],100*r,0];return n},C.hcg=function(t){var n=t[1]/100,a=1-t[2]/100,e=a-n,r=0;return e<1&&(r=(a-e)/(1-e)),[t[0],100*e,100*r]};var pt=d((function(t){(t.exports={name:"hcy",min:[0,0,0],max:[360,100,255],channel:["hue","chroma","luminance"],alias:["HCY"]}).rgb=function(t){var n,a,e,r=_(t[0],0,360)*Math.PI/180,i=P(t[1],0,100)/100,s=P(t[2],0,255)/255,o=Math.PI/3;return r<2*o?(e=s*(1-i),n=s*(1+i*Math.cos(r)/Math.cos(o-r)),a=s*(1+i*(1-Math.cos(r)/Math.cos(o-r)))):r<4*o?(r-=2*o,n=s*(1-i),a=s*(1+i*Math.cos(r)/Math.cos(o-r)),e=s*(1+i*(1-Math.cos(r)/Math.cos(o-r)))):(r-=4*o,a=s*(1-i),e=s*(1+i*Math.cos(r)/Math.cos(o-r)),n=s*(1+i*(1-Math.cos(r)/Math.cos(o-r)))),[255*n,255*a,255*e]},T.hcy=function(t){var n=t[0]+t[1]+t[2],a=t[0]/n,e=t[1]/n,r=t[2]/n,i=Math.acos(.5*(a-e+(a-r))/Math.sqrt((a-e)*(a-e)+(a-r)*(e-r)));r>e&&(i=2*Math.PI-i);var s=1-3*Math.min(a,e,r),o=n/3;return[180*i/Math.PI,100*s,o]}})),bt=(pt.name,pt.min,pt.max,pt.channel,pt.alias,d((function(t){(t.exports={name:"tsl",min:[0,0,0],max:[1,1,1],channel:["tint","saturation","lightness"]}).rgb=function(t){var n=t[0],a=t[1],e=t[2],r=Math.tan(2*Math.PI*(n-.25));r*=r;var i=Math.sqrt(5*a*a/(9*(1/r+1)))+1/3,s=Math.sqrt(5*a*a/(9*(r+1)))+1/3,o=e/(.185*i+.473*s+.114);return[255*(o*i),255*(o*s),255*(o*(1-i-s))]},T.tsl=function(t){var n=t[0]/255,a=t[1]/255,e=t[2]/255,r=(n/(n+a+e)||0)-1/3,i=(a/(n+a+e)||0)-1/3;return[i>0?.5*Math.atan(r/i)/Math.PI+.25:i<0?.5*Math.atan(r/i)/Math.PI+.75:0,Math.sqrt(1.8*(r*r+i*i)),.299*n+.587*a+.114*e]}}))),dt=(bt.name,bt.min,bt.max,bt.channel,d((function(t){(t.exports={name:"yes",min:[0,0,0],max:[1,1,1],channel:["luminance","e-factor","s-factor"]}).rgb=function(t){var n=t[0],a=t[1],e=t[2],r=[1,1.431,.126,1,-.569,.126,1,.431,-1.874];return[255*(n*r[0]+a*r[1]+e*r[2]),255*(n*r[3]+a*r[4]+e*r[5]),255*(n*r[6]+a*r[7]+e*r[8])]},T.yes=function(t){var n=t[0]/255,a=t[1]/255,e=t[2]/255,r=[.253,.684,.063,.5,-.5,0,.25,.25,-.5];return[n*r[0]+a*r[1]+e*r[2],n*r[3]+a*r[4]+e*r[5],n*r[6]+a*r[7]+e*r[8]]}}))),yt=(dt.name,dt.min,dt.max,dt.channel,{name:"osaucs",alias:["OSA-UCS"],channel:["L","j","g"],min:[-10,-6,-10],max:[8,12,6],xyz:function(t){throw"Unimplemented"}});q.osaucs=function(t){var n=t[0],a=t[1],e=t[2],r=n/(n+a+e),i=a/(n+a+e),s=(4.4934*r*r+4.3034*i*i-4.276*r*i-1.3744*r-2.56439*i+1.8103)*a,o=5.9*(Math.pow(s,1/3)-2/3+.042*Math.pow(Math.max(s,30)-30,1/3)),h=(o-14.3993)/Math.sqrt(2),l=o/(5.9*(Math.pow(s,1/3)-2/3)),u=.779*n+.4194*a-.1648*e,c=-.4493*n+1.3265*a+.0927*e,v=-.1149*n+.3394*a+.717*e;return[h,l*(1.7*(u=Math.pow(u,1/3)||0)+8*(c=Math.pow(c,1/3)||0)-9.7*(v=Math.pow(v,1/3)||0)),l*(-13.7*u+17.7*c-4*v)]};var xt=yt,Mt=.299,Ht=.587,wt=.114,Tt={name:"hsp",min:[0,0,0],max:[360,100,255],channel:["hue","saturation","perceived_brightness"],alias:["HSP"],rgb:function(t){var n,a,e,r,i=t[0]/360,s=t[1]/100,o=t[2],h=1-s;return h>0?i<1/6?(r=1+(i=6*(i-0))*(1/h-1),a=(e=o/Math.sqrt(Mt/h/h+Ht*r*r+wt))+i*((n=e/h)-e)):i<2/6?(r=1+(i=6*(2/6-i))*(1/h-1),n=(e=o/Math.sqrt(Ht/h/h+Mt*r*r+wt))+i*((a=e/h)-e)):i<.5?(r=1+(i=6*(i-2/6))*(1/h-1),e=(n=o/Math.sqrt(Ht/h/h+wt*r*r+Mt))+i*((a=n/h)-n)):i<4/6?(r=1+(i=6*(4/6-i))*(1/h-1),a=(n=o/Math.sqrt(wt/h/h+Ht*r*r+Mt))+i*((e=n/h)-n)):i<5/6?(r=1+(i=6*(i-4/6))*(1/h-1),n=(a=o/Math.sqrt(wt/h/h+Mt*r*r+Ht))+i*((e=a/h)-a)):(r=1+(i=6*(1-i))*(1/h-1),e=(a=o/Math.sqrt(Mt/h/h+wt*r*r+Ht))+i*((n=a/h)-a)):i<1/6?(i=6*(i-0),a=(n=Math.sqrt(o*o/(Mt+Ht*i*i)))*i,e=0):i<2/6?(i=6*(2/6-i),n=(a=Math.sqrt(o*o/(Ht+Mt*i*i)))*i,e=0):i<.5?(i=6*(i-2/6),e=(a=Math.sqrt(o*o/(Ht+wt*i*i)))*i,n=0):i<4/6?(i=6*(4/6-i),a=(e=Math.sqrt(o*o/(wt+Ht*i*i)))*i,n=0):i<5/6?(i=6*(i-4/6),n=(e=Math.sqrt(o*o/(wt+Mt*i*i)))*i,a=0):(i=6*(1-i),e=(n=Math.sqrt(o*o/(Mt+wt*i*i)))*i,a=0),[Math.round(n),Math.round(a),Math.round(e)]}};T.hsp=function(t){var n,a,e,r=parseInt(t[0],10),i=parseInt(t[1],10),s=parseInt(t[2],10);return e=Math.sqrt(r*r*Mt+i*i*Ht+s*s*wt),r===i&&r===s?(n=0,a=0):(r>=i&&r>=s&&(s>=i?(n=1-1/6*(s-i)/(r-i),a=1-i/r):(n=0+1/6*(i-s)/(r-s),a=1-s/r)),i>=r&&i>=s&&(r>=s?(n=2/6-1/6*(r-s)/(i-s),a=1-s/i):(n=2/6+1/6*(s-r)/(i-r),a=1-r/i)),s>=r&&s>=i&&(i>=r?(n=4/6-1/6*(i-r)/(s-r),a=1-r/s):(n=4/6+1/6*(r-i)/(s-i),a=1-i/s))),[Math.round(360*n),100*a,Math.round(e)]};var kt,Lt={rgb:T,hsl:k,hsv:L,hsi:z,hwb:C,cmyk:Y,cmy:I,xyz:q,xyy:R,yiq:U,yuv:F,ydbdr:O,ycgco:E,ypbpr:B,ycbcr:D,xvycc:V,yccbccrc:j,ucs:G,uvw:X,jpeg:N,lab:K,labh:{name:"labh",min:[0,-128,-128],max:[100,128,128],channel:["lightness","a","b"],alias:["LABh","hunter-lab","hlab"],xyz:function(t){var n=t[0],a=n/10,e=a*a;return[(t[1]/17.5*n/10+e)/1.02,e,-(t[2]/7*n/10-e)/.847]}},lms:W,lchab:$,luv:Q,lchuv:Z,hsluv:nt,hpluv:at,cubehelix:et,coloroid:mt,hcg:gt,hcy:pt,tsl:bt,yes:dt,osaucs:xt,hsp:Tt};for(var _t in Lt)for(var Pt in kt=Lt[_t],Lt)kt[Pt]||(kt[Pt]=zt(_t,Pt));function zt(t,n){var a=Lt[t];return t===n?function(t){return t}:a.xyz&&Lt.xyz[n]?function(t){return Lt.xyz[n](a.xyz(t))}:a.rgb&&Lt.rgb[n]?function(t){return Lt.rgb[n](a.rgb(t))}:void 0}var Ct=Lt;var Yt=function(t,n,a){return t*(1-a)+n*a},It=function(t,n,a){return n<a?t<n?n:t>a?a:t:t<a?a:t>n?n:t};var At=function(t){return t=t.map((function(t){if("rgb"!=(t=H(t)).space){if("hsl"!=t.space)throw"c.spacespace is not supported.";t.values=k.rgb(t.values)}return t.values.push(t.alpha),t.values})),function(n,a){a=a||Yt,n=It(n,0,1);var e=(t.length-1)*n,r=Math.floor(e),i=Math.ceil(e);n=e-r;var s=t[r],o=t[i],h=s.map((function(t,e){return t=a(t,o[e],n),e<3&&(t=Math.round(t)),t}));return 1===h[3]?"rgb("+h.slice(0,3)+")":"rgba("+h+")"}};var qt={triangleSize:130,bleed:120,noise:60,colors:["rgba(11,135,147,1)","rgba(54,0,51,1)"],pointVariationX:20,pointVariationY:35,pointAnimationSpeed:7500,image:void 0,imageOpacity:.4},St=function(){function n(a,r){t(this,n),e(this,"canvas",void 0),e(this,"ctx",void 0),e(this,"settings",void 0),e(this,"width",void 0),e(this,"height",void 0),e(this,"triangles",void 0),e(this,"particles",void 0),e(this,"coordinateTable",void 0),e(this,"baseCoordinateTable",void 0),e(this,"delta",void 0),e(this,"lastUpdate",void 0),this.canvas=a,this.settings=r,r.color1&&r.color2&&"string"==typeof r.color1&&"string"==typeof r.color2?this.settings.colors=[Vt(r.color1),Vt(r.color2)]:this.settings.colors&&(this.settings.colors=this.settings.colors.map((function(t){return Vt(t)}))),this.ctx=a.getContext("2d"),this.width=0,this.height=0,this.delta=performance.now(),this.lastUpdate=performance.now(),this.triangles=[],this.particles=[],this.coordinateTable={},this.baseCoordinateTable={},window.addEventListener("resize",this.resize.bind(this)),this.resize(),this.animate()}return a(n,null,[{key:"create",value:function(t,a){if(t)return new n(t,r({},qt,a));console.warn("Need a valid canvas element!")}}]),a(n,[{key:"resize",value:function(){var t=this.canvas.parentElement;t&&(this.canvas.width=t.clientWidth,this.canvas.height=t.clientHeight),this.width===this.canvas.width&&this.height===this.canvas.height||(this.width=this.canvas.width,this.height=this.canvas.height,this.generateTriangles(),this.generateParticles())}},{key:"remove",value:function(){window.removeEventListener("resize",this.resize.bind(this))}},{key:"generateTriangles",value:function(){var t=this,n=[],a={};n.push([0,0]),n.push([0,this.height]),n.push([this.width,0]),n.push([this.width,this.height]);for(var e=this.settings.bleed,r=this.settings.triangleSize,i=this.settings.noise,s=this.settings.colors,h=0-e;h<this.width+e;h+=r)for(var l=0-e;l<this.height+e;l+=r){var u=h+Bt(0,i),c=l+Bt(0,i);n.push([u,c])}for(var v=o.from(n).triangles,f=[],m=0;m<v.length;m+=3){var g=[n[v[m]],n[v[m+1]],n[v[m+2]]],p=[];p.push({x:g[0][0],y:g[0][1]}),p.push({x:g[1][0],y:g[1][1]}),p.push({x:g[2][0],y:g[2][1]}),g.push(Ot(Et(p),this.width,this.height,s)),f.push(g)}var b={};f.forEach((function(n){n.forEach((function(n){var e=n[0],r=n[1];a[e]||(a[e]={});var i=e/t.width;a[e][r]=0,b[e]||(b[e]={}),b[e][r]=2*i*Math.PI}))})),this.triangles=f,this.coordinateTable=a,this.baseCoordinateTable=b}},{key:"generateParticles",value:function(){for(var t=[],n=0;n<250;n++){var a={ctx:this.ctx,width:this.width,height:this.height};t.push(new Rt(a))}this.particles=t}},{key:"animate",value:function(){var t=this,n=this.ctx;if(n.clearRect(0,0,this.width,this.height),this.triangles.forEach((function(a){n.beginPath();var e=[];e.push({x:a[0][0],y:a[0][1]}),e.push({x:a[1][0],y:a[1][1]}),e.push({x:a[2][0],y:a[2][1]});var r=a[3],i="rgb(".concat(r[0],", ").concat(r[1],", ").concat(r[2],")");n.fillStyle=i,n.strokeStyle=i,n.globalAlpha=r[3];[0,1,2,0].forEach((function(a,r){if(t.coordinateTable[e[a].x]&&null!=t.coordinateTable[e[a].x][e[a].y]){var i={x:e[a].x,y:e[a].y},s=t.coordinateTable[e[a].x][e[a].y];0==r?n.moveTo(i.x+s.x,i.y+s.y):n.lineTo(i.x+s.x,i.y+s.y)}})),n.fill(),n.stroke(),n.globalAlpha=1,n.globalCompositeOperation="source-over"})),this.particles.forEach((function(t){t.update()})),this.particles.forEach((function(t){t.draw()})),this.settings.image){var a=this.settings.imageOpacity||0,e=n.createPattern(this.settings.image,"repeat");e&&(n.globalAlpha=a,n.fillStyle=e,n.fillRect(0,0,this.width,this.height),n.globalAlpha=1)}this.animateCoordinateTable(),this.delta=performance.now()-this.lastUpdate,this.lastUpdate=performance.now(),requestAnimationFrame(this.animate.bind(this))}},{key:"animateCoordinateTable",value:function(){var t=this,n=this.settings.pointAnimationSpeed||0,a=this.settings.pointVariationX||0,e=this.settings.pointVariationY||0;Object.keys(this.coordinateTable).forEach((function(r){Object.keys(t.coordinateTable[r]).forEach((function(i){t.baseCoordinateTable[r][i]+=t.delta/(n/1.5)*4;var s=Math.cos(t.baseCoordinateTable[r][i])*a,o=Math.sin(t.baseCoordinateTable[r][i])*e;t.coordinateTable[r][i]={x:s,y:o}}))}))}}]),n}(),Rt=function(){function n(a){t(this,n),e(this,"ctx",void 0),e(this,"x",void 0),e(this,"y",void 0),e(this,"ox",void 0),e(this,"oy",void 0),e(this,"interval",void 0),e(this,"limit",void 0),e(this,"opacity",void 0),e(this,"r",void 0),this.ctx=a.ctx,this.x=Bt(0,a.width),this.y=Bt(0,a.height),this.ox=this.x,this.oy=this.y,this.interval=Bt(1e3,5e3),this.limit=Bt(5,15),this.opacity=Dt(.1,.7),this.r=Dt(1,2)}return a(n,[{key:"update",value:function(){this.x=this.ox+Math.cos(performance.now()/this.interval)*this.limit,this.y=this.oy+Math.sin(performance.now()/this.interval)*this.limit/2}},{key:"draw",value:function(){this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.r,0,2*Math.PI),this.ctx.fillStyle="rgba(255,255,255, "+this.opacity+")",this.ctx.fill()}}]),n}(),Ut=/rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)/,Ft=/rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}|.*)\)/;function Ot(t,n,a,e){var r=t.x,i=0;(i=(t.y/a+(i=r/n))/2)>1?i=1:i<0&&(i=0);var s,o=At(e)(i);return o.match(Ut)?[(s=o.match(Ut).slice(1,4).map((function(t){return parseInt(t)})))[0],s[1],s[2],1]:o.match(Ft)?[(s=o.match(Ft).slice(1,5).map((function(t){return parseFloat(t)})))[0],s[1],s[2],s[3]]:[0,0,0,0]}function Et(t){var n=0,a=0;return t.forEach((function(t){n+=t.x,a+=t.y})),{x:n/t.length,y:a/t.length}}function Bt(t,n){return Math.floor(Math.random()*(n-t+1))+t}function Dt(t,n){return Math.random()*(n-t)+t}function Vt(t){if(!t)return console.warn("Incorrect color: ".concat(t)),"rgba(0,0,0,0)";var n=H(t),a=n.alpha,e=Ct[n.space].rgb(n.values);return"rgba(".concat(e[0],", ").concat(e[1],", ").concat(e[2],", ").concat(a,")")}return St}));
